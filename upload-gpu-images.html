<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>上传显卡图片 - NVIDIA显卡专卖店</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#76B900', // 英伟达绿色
                        secondary: '#1A1A1A',
                        accent: '#FF7043',
                        neutral: '#F5F5F5',
                    },
                    fontFamily: {
                        sans: ['SimHei', 'WenQuanYi Micro Hei', 'Heiti TC', 'sans-serif'],
                    },
                },
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer base {
            body {
                font-family: 'SimHei', 'WenQuanYi Micro Hei', 'Heiti TC', sans-serif !important;
            }
        }
        
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .btn-primary {
                @apply bg-primary hover:bg-primary/90 text-white font-semibold py-2 px-6 rounded-lg transition-all duration-300 focus:ring-2 focus:ring-primary focus:ring-offset-2;
            }
            .btn-outline {
                @apply border border-primary text-primary hover:bg-primary/10 font-semibold py-2 px-6 rounded-lg transition-all duration-300;
            }
            .upload-area {
                @apply border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer transition-colors duration-300 hover:border-primary hover:bg-primary/5;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">
    <!-- 导航栏 -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-microchip text-3xl text-primary"></i>
                <h1 class="text-2xl font-bold text-secondary">NVIDIA<span class="text-primary">显卡专卖</span></h1>
            </div>
            
            <div class="flex items-center space-x-4">
                <a href="nvidia-shop.html" class="font-medium hover:text-primary transition-colors">返回商城</a>
                <a href="order-page.html" class="font-medium hover:text-primary transition-colors">订单中心</a>
            </div>
        </div>
    </header>

    <!-- 主内容 -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-md overflow-hidden">
            <div class="p-6 border-b">
                <h2 class="text-2xl font-bold">上传显卡图片</h2>
                <p class="text-gray-600 mt-2">请选择要上传的显卡型号并上传对应的PNG图片文件</p>
            </div>
            
            <div class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- RTX 4080 上传 -->
                    <div class="space-y-4">
                        <h3 class="text-xl font-semibold">NVIDIA GeForce RTX 4080</h3>
                        <div class="upload-area" id="rtx4080UploadArea">
                            <input type="file" id="rtx4080FileInput" accept=".png" class="hidden">
                            <i class="fa fa-cloud-upload text-5xl text-gray-400 mb-4"></i>
                            <p class="text-gray-600 mb-2">点击或拖拽文件到此处</p>
                            <p class="text-sm text-gray-500">支持 PNG 格式，建议尺寸: 400×300 像素</p>
                        </div>
                        <div id="rtx4080Preview" class="hidden">
                            <div class="border rounded-lg p-2 bg-gray-50">
                                <img id="rtx4080ImagePreview" src="" alt="RTX 4080预览" class="w-full h-auto max-h-40 object-contain mx-auto">
                                <button id="rtx4080RemoveBtn" class="mt-2 text-red-500 hover:text-red-700 text-sm flex items-center"><i class="fa fa-trash mr-1"></i> 移除图片</button>
                            </div>
                        </div>
                        <button id="rtx4080UploadBtn" class="btn-primary w-full" disabled>上传图片</button>
                    </div>
                    
                    <!-- RTX 4070 上传 -->
                    <div class="space-y-4">
                        <h3 class="text-xl font-semibold">NVIDIA GeForce RTX 4070</h3>
                        <div class="upload-area" id="rtx4070UploadArea">
                            <input type="file" id="rtx4070FileInput" accept=".png" class="hidden">
                            <i class="fa fa-cloud-upload text-5xl text-gray-400 mb-4"></i>
                            <p class="text-gray-600 mb-2">点击或拖拽文件到此处</p>
                            <p class="text-sm text-gray-500">支持 PNG 格式，建议尺寸: 400×300 像素</p>
                        </div>
                        <div id="rtx4070Preview" class="hidden">
                            <div class="border rounded-lg p-2 bg-gray-50">
                                <img id="rtx4070ImagePreview" src="" alt="RTX 4070预览" class="w-full h-auto max-h-40 object-contain mx-auto">
                                <button id="rtx4070RemoveBtn" class="mt-2 text-red-500 hover:text-red-700 text-sm flex items-center"><i class="fa fa-trash mr-1"></i> 移除图片</button>
                            </div>
                        </div>
                        <button id="rtx4070UploadBtn" class="btn-primary w-full" disabled>上传图片</button>
                    </div>
                    
                    <!-- RTX 5090 上传 -->
                    <div class="space-y-4 md:col-span-2">
                        <h3 class="text-xl font-semibold">NVIDIA GeForce RTX 5090</h3>
                        <div class="upload-area" id="rtx5090UploadArea">
                            <input type="file" id="rtx5090FileInput" accept=".png" class="hidden">
                            <i class="fa fa-cloud-upload text-5xl text-gray-400 mb-4"></i>
                            <p class="text-gray-600 mb-2">点击或拖拽文件到此处</p>
                            <p class="text-sm text-gray-500">支持 PNG 格式，建议尺寸: 400×300 像素</p>
                        </div>
                        <div id="rtx5090Preview" class="hidden">
                            <div class="border rounded-lg p-2 bg-gray-50">
                                <img id="rtx5090ImagePreview" src="" alt="RTX 5090预览" class="w-full h-auto max-h-40 object-contain mx-auto">
                                <button id="rtx5090RemoveBtn" class="mt-2 text-red-500 hover:text-red-700 text-sm flex items-center"><i class="fa fa-trash mr-1"></i> 移除图片</button>
                            </div>
                        </div>
                        <button id="rtx5090UploadBtn" class="btn-primary w-full" disabled>上传图片</button>
                    </div>
                </div>
            </div>
            
            <div class="p-6 bg-gray-50">
                <h3 class="text-lg font-semibold mb-3">注意事项</h3>
                <ul class="list-disc pl-5 space-y-2 text-gray-600">
                    <li>上传的图片将保存在网站的 images 文件夹中</li>
                    <li>图片上传后，网站上所有该型号的显卡将自动使用新上传的图片</li>
                    <li>建议上传高质量的图片，以获得最佳显示效果</li>
                    <li>支持的文件格式：仅 PNG</li>
                    <li>请注意，上传新图片将覆盖原有的同名图片文件</li>
                </ul>
            </div>
        </div>
        
        <!-- 状态提示 -->
        <div id="statusToast" class="fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg transform translate-y-10 opacity-0 transition-all duration-300 z-50"></div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-secondary text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2023 NVIDIA显卡专卖店. 保留所有权利.</p>
        </div>
    </footer>

    <script>
        // 通用函数：设置上传区域的交互
        function setupUploadArea(modelName) {
            const uploadArea = document.getElementById(`${modelName}UploadArea`);
            const fileInput = document.getElementById(`${modelName}FileInput`);
            const previewContainer = document.getElementById(`${modelName}Preview`);
            const imagePreview = document.getElementById(`${modelName}ImagePreview`);
            const removeBtn = document.getElementById(`${modelName}RemoveBtn`);
            const uploadBtn = document.getElementById(`${modelName}UploadBtn`);
            const toast = document.getElementById('statusToast');
            
            // 点击上传区域触发文件选择
            uploadArea.addEventListener('click', () => {
                fileInput.click();
            });
            
            // 处理文件选择
            fileInput.addEventListener('change', (e) => {
                if (e.target.files && e.target.files[0]) {
                    const file = e.target.files[0];
                    
                    // 检查文件类型
                    if (!file.type.match('image/png')) {
                        showToast('请选择PNG格式的图片文件', 'error');
                        return;
                    }
                    
                    // 显示预览
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        imagePreview.src = e.target.result;
                        previewContainer.classList.remove('hidden');
                        uploadBtn.disabled = false;
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // 处理拖拽上传
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                uploadArea.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                uploadArea.classList.add('border-primary', 'bg-primary/10');
            }
            
            function unhighlight() {
                uploadArea.classList.remove('border-primary', 'bg-primary/10');
            }
            
            uploadArea.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const file = dt.files[0];
                
                // 检查文件类型
                if (!file || !file.type.match('image/png')) {
                    showToast('请选择PNG格式的图片文件', 'error');
                    return;
                }
                
                // 设置文件到input
                fileInput.files = dt.files;
                
                // 显示预览
                const reader = new FileReader();
                reader.onload = (e) => {
                    imagePreview.src = e.target.result;
                    previewContainer.classList.remove('hidden');
                    uploadBtn.disabled = false;
                };
                reader.readAsDataURL(file);
            }
            
            // 移除图片
            removeBtn.addEventListener('click', () => {
                fileInput.value = '';
                previewContainer.classList.add('hidden');
                imagePreview.src = '';
                uploadBtn.disabled = true;
            });
            
            // 上传按钮点击事件
            uploadBtn.addEventListener('click', () => {
                // 在实际环境中，这里应该有AJAX上传逻辑
                // 但在本地演示环境中，我们仅显示成功消息
                
                // 显示上传中状态
                uploadBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i> 上传中...';
                uploadBtn.disabled = true;
                
                // 模拟上传延迟
                setTimeout(() => {
                    showToast(`${modelName.toUpperCase()} 图片上传成功！`, 'success');
                    uploadBtn.innerHTML = '上传成功';
                    uploadBtn.classList.remove('btn-primary');
                    uploadBtn.classList.add('bg-green-500');
                    
                    // 3秒后恢复按钮状态
                    setTimeout(() => {
                        uploadBtn.innerHTML = '上传图片';
                        uploadBtn.classList.remove('bg-green-500');
                        uploadBtn.classList.add('btn-primary');
                        uploadBtn.disabled = false;
                    }, 3000);
                }, 1500);
            });
        }
        
        // 显示提示信息
        function showToast(message, type = 'info') {
            const toast = document.getElementById('statusToast');
            
            // 设置消息类型样式
            if (type === 'success') {
                toast.className = 'fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg bg-green-500 text-white transform translate-y-10 opacity-0 transition-all duration-300 z-50';
            } else if (type === 'error') {
                toast.className = 'fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg bg-red-500 text-white transform translate-y-10 opacity-0 transition-all duration-300 z-50';
            } else {
                toast.className = 'fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg bg-gray-800 text-white transform translate-y-10 opacity-0 transition-all duration-300 z-50';
            }
            
            // 设置消息内容
            toast.textContent = message;
            
            // 显示toast
            setTimeout(() => {
                toast.classList.remove('translate-y-10', 'opacity-0');
            }, 10);
            
            // 3秒后隐藏toast
            setTimeout(() => {
                toast.classList.add('translate-y-10', 'opacity-0');
            }, 3000);
        }
        
        // 初始化所有上传区域
        document.addEventListener('DOMContentLoaded', () => {
            setupUploadArea('rtx4080');
            setupUploadArea('rtx4070');
            setupUploadArea('rtx5090');
        });
    </script>
</body>
</html>